# 🦀 Space Idle Game - Rustバックエンド移行計画

**🏗️ モノレポでの開発**

---

## 📋 Phase 1: 基盤構築

### 🚀 Step 1 - プロジェクト立ち上げ
- [〇] プロジェクト全体の**アーキテクチャ設計**
- [〇] データベーススキーマ設計（**正規化**、**インデックス戦略**）
- [〇] `Cargo.toml`、ディレクトリ構造、基本的な設定ファイル
- [〇] **GitHub Actions** CI/CD設定

### 🔧 Step 2 - 基本API構築
- [〇] **認証システム**の設計（**セキュリティ考慮**）
- [〇] 基本的な**CRUDエンドポイント**実装
- [〇] **エラーハンドリング**のボイラープレート
- [〇] **APIドキュメント**生成

### 🌐 Step 3 - WebSocket基礎
- [〇] **WebSocketプロトコル**設計、**状態同期戦略**
- [〇] 基本的な**WebSocketハンドラー**実装
- [〇] クライアント側の接続コード

---

## ⚙️ Phase 2: コア機能実装

### 💾 Step 4 - データ永続化
- [〇] 効率的な**セーブデータ圧縮**・**差分更新**の設計
- [〇] **SQLx**を使った基本的なクエリ実装
- [〇] **マイグレーションファイル**作成
- [〇] **トランザクション設計**、**デッドロック回避策**

### 📡 Step 5 - リアルタイム通信
- [ ] **メッセージキューイング**、**バックプレッシャー対策**
- [ ] **メッセージハンドラー**の実装
- [ ] **再接続ロジック**
- [ ] **状態の一貫性保証**メカニズム

### 🎮 Step 6 - ゲームロジック移行
- [ ] **物理演算**の並列化設計
- [ ] **サーバーオーソリティ**の実装戦略
- [ ] 個別のゲームロジック関数の移植
- [ ] **バリデーションルール**の実装

### 🧪 Step 7 - テスト
- [ ] **単体テスト**の作成
- [ ] **統合テスト**のセットアップ
- [ ] **負荷テスト**設計、**ボトルネック分析**

---

## 🚀 Phase 3: 最適化と仕上げ

### ⚡ Step 8 - パフォーマンス最適化
- [ ] **プロファイリング結果**の分析と最適化戦略
- [ ] **メモリ使用量**の最適化
- [ ] **キャッシングレイヤー**の実装
- [ ] **ログ出力**の整備

### 🛡️ Step 9 - セキュリティ
- [ ] **セキュリティ監査**、**脆弱性対策**
- [ ] **レート制限**の実装
- [ ] **入力検証**の強化

### 🚢 Step 10 - デプロイ準備
- [ ] **Dockerfile**作成
- [ ] **環境変数設定**
- [ ] **プロダクション環境**の設計
- [ ] **デプロイスクリプト**作成