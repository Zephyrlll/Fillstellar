# Cosmic Gardener

## ユーザー向け情報

### 概要

「Cosmic Gardener」は、あなただけの宇宙を創造し、育てる放置系シミュレーションゲームです。広大な宇宙空間で、塵やエネルギーといった根源的なリソースを集め、小惑星から巨大な恒星まで、様々な天体を創造しましょう。

生命の誕生や進化、そして知的文明の発展を見守りながら、あなたの宇宙がどのように成長していくかを見届けてください。

### ゲームの目的

- **リソースの収集:** 宇宙の塵、エネルギー、ダークマターなどを集め、宇宙創造の礎とします。
- **天体の創造:** 小惑星、彗星、惑星、そして恒星を創造し、あなただけの銀河を形作ります。
- **生命の育成:** 惑星に生命を誕生させ、微生物から知的生命体へと進化させていきます。
- **研究と発展:** 新たな技術を研究し、より高度な天体の創造や、効率的なリソース収集を目指します。

### 遊び方

1. **リソースを貯める:** ゲーム開始直後は、自動的に宇宙の塵が集まっていきます。
2. **天体を創造する:** 貯めたリソースを使い、小惑星や恒星などの天体を創造します。
3. **アップグレードと研究:** エネルギーを使ってリソースの生産効率を上げたり、ダークマターを使って新たな技術をアンロックしたりできます。
4. **宇宙の進化を見守る:** あなたが創造した宇宙が、時間と共にどのように変化し、発展していくかを観察しましょう。

## 開発者向け情報

### 概要

このプロジェクトは、TypeScriptとThree.jsを使用して開発された、ブラウザで動作する宇宙シミュレーションゲームです。

### 技術スタック

- **言語:** TypeScript
- **グラフィックス:** Three.js
- **ビルド/コンパイル:** TypeScript Compiler (tsc)
- **パッケージ管理:** npm

### プロジェクト構造

```
.
├── js/                # ゲームのコアロジック (TypeScript)
│   ├── main.ts        # メインのゲームループ
│   ├── celestialBody.ts # 天体の生成と管理
│   ├── physics.ts     # 物理演算
│   ├── ui.ts          # UIの更新とイベント処理
│   ├── state.ts       # ゲームの状態管理
│   ├── saveload.ts    # セーブ・ロード機能
│   └── ...
├── index.html         # ゲームのメインページ
├── style.css          # スタイルシート
├── package.json       # プロジェクトの依存関係とスクリプト
└── tsconfig.json      # TypeScriptのコンフィグレーション
```

### セットアップと実行

1. **依存関係のインストール:**
   ```bash
   npm install
   ```

2. **TypeScriptのコンパイル:**
   ```bash
   npx tsc
   ```
   これにより、`js`ディレクトリ内の`.ts`ファイルがコンパイルされ、`dist`ディレクトリに`.js`ファイルが出力されます。

3. **ローカルサーバーの起動:**
   `index.html`をブラウザで直接開くか、ローカルサーバーを立ててアクセスしてください。
   （例: `python -m http.server` や VSCodeのLive Server拡張など）

### 主要なロジック

- **ゲームループ (`main.ts`):** `animate`関数がゲームのメインループを担っており、物理演算、リソースの更新、UIの描画などを毎フレーム呼び出しています。
- **状態管理 (`js/state.ts`):** `gameState`オブジェクトが、リソースの量、天体の情報、研究の進捗など、ゲーム全体の状態を一元管理しています。
- **天体 (`js/celestialBody.ts`):** `createCelestialBody`関数が、星や惑星などの天体オブジェクトを生成します。生命の誕生や進化のロジックもここに記述されています。
- **物理演算 (`js/physics.ts`):** `updatePhysics`関数が、天体間の引力を計算し、位置と速度を更新しています。
- **UI (`js/ui.ts`):** `updateUI`関数が、`gameState`の変更を検知し、画面上の表示を更新します。各種ボタンのイベントリスナーもここで設定されています。

### 今後の展望

- 新たな天体やリソースの追加
- より複雑な研究ツリーの実装
- イベントやミッション機能の追加
- パフォーマンスの最適化
