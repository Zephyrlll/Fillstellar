# 🎨 グラフィックス設定と質感設定の独立化

## 概要

グラフィックス設定（パフォーマンス）とビジュアルスタイル設定（質感）を独立させました。これにより、ユーザーのPCに最適なパフォーマンス設定と、ユーザーの好みの視覚的な雰囲気を自由に組み合わせることができます。

## 変更内容

### 1. **設定の分離**

#### グラフィックスプリセット（パフォーマンス重視）
PCの性能に合わせて選択する設定：
- **最高（Ultra）**: ハイエンドGPU向け
- **高（High）**: ミドルレンジGPU向け
- **中（Medium）**: 標準的なPC向け
- **低（Low）**: 低スペックPC向け
- **最小（Minimal）**: 最低限の設定
- **パフォーマンス重視**: FPS優先設定

#### ビジュアルスタイル（質感・雰囲気）
見た目の好みで選択する設定：
- **デフォルト**: 標準的な見た目
- **🎬 映画的**: 映画のような雰囲気（24fps、強いブルーム、フィルムグレイン）
- **📷 写実的**: 現実的な表現（高解像度、ACESトーンマッピング）
- **🎨 アニメ風**: 鮮やかで明るい雰囲気（高彩度、高コントラスト）
- **🕹️ レトロ**: 懐かしいゲーム風（低解像度、強いフィルムグレイン）

### 2. **実装の詳細**

#### state.ts の変更
```typescript
// GraphicsState インターフェースにvisualStyleを追加
export interface GraphicsState {
    preset: string; // パフォーマンス設定
    visualStyle: string; // 質感設定
    // ... その他の設定
}

// プリセットを2つに分割
export const GRAPHICS_PRESETS = { /* パフォーマンス設定 */ };
export const VISUAL_STYLE_PRESETS = { /* 質感設定 */ };

// それぞれを適用する関数
export function applyGraphicsPreset(graphics: GraphicsState, presetName: string): GraphicsState
export function applyVisualStylePreset(graphics: GraphicsState, styleName: string): GraphicsState
```

#### optionsConfig.ts の変更
- グラフィックプリセットセレクターから質感オプションを削除
- 新しい「ビジュアルスタイル」セレクターを追加
- それぞれ独立したonChangeハンドラーを実装

#### graphicsEngine.ts の変更
- `applyVisualStyleEffects`メソッドを追加
- updateメソッドでvisualStyleの変更を検出
- 質感設定だけを更新する処理を追加

### 3. **利用例**

#### 高性能PCで映画的な雰囲気を楽しむ場合
- グラフィックプリセット: 「最高」
- ビジュアルスタイル: 「映画的」

#### 低スペックPCでアニメ風の雰囲気を楽しむ場合
- グラフィックプリセット: 「低」または「パフォーマンス重視」
- ビジュアルスタイル: 「アニメ風」

#### 標準的なPCで写実的な表現を求める場合
- グラフィックプリセット: 「中」
- ビジュアルスタイル: 「写実的」

### 4. **今後の拡張可能性**

- カスタムビジュアルスタイルの保存機能
- ユーザープリセットの共有機能
- 時間帯による自動切り替え（昼は写実的、夜は映画的など）
- ゲームフェーズによる自動切り替え

## 技術的な利点

1. **柔軟性**: パフォーマンスと見た目を独立して調整可能
2. **拡張性**: 新しいビジュアルスタイルを簡単に追加可能
3. **保守性**: 設定が明確に分離されているため管理しやすい
4. **ユーザビリティ**: ユーザーが理解しやすい構造

## まとめ

この独立化により、すべてのユーザーが自分のPCスペックに関係なく、好みの視覚的な雰囲気でゲームを楽しめるようになりました。パフォーマンスを犠牲にすることなく、映画的な雰囲気やアニメ風の表現を楽しむことができます。