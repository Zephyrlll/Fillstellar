## Phase 1: 基盤システム (詳細WBS)

### 1.1 オフライン進行システム

| タスクID | タスク名 | 担当者 | 開始日 | 終了日 | 状態 | 備考 |
|---|---|---|---|---|---|---|
| 1.1.1 | **タイムスタンプベースのオフライン計算機能の実装** | | | | 未着手 | | 
| 1.1.1.1 | ゲーム終了/離脱時に最終ログイン時刻をサーバーまたはローカルに保存する処理を実装 | | | | 未着手 | プレイヤーデータ構造の拡張 |
| 1.1.1.2 | ゲーム開始時に最終ログイン時刻を読み込む処理を実装 | | | | 未着手 | | 
| 1.1.1.3 | 経過時間と各資源の生産速度に基づいてオフライン中の資源生産量を計算するロジックを実装 | | | | 未着手 | `resource_gain = production_rate * offline_seconds` |
| 1.1.1.4 | 計算結果をプレイヤーの所持資源にアトミックに加算する処理を実装 | | | | 未着手 | | 
| 1.1.2 | **復帰時の報酬表示UIの作成** | | | | 未着手 | | 
| 1.1.2.1 | オフライン報酬（経過時間、各資源の増加量）を表示するモーダルUIのデザインを作成 | | | | 未着手 | Figma等でデザインカンプ作成 |
| 1.1.2.2 | UIコンポーネント（モーダルウィンドウ、テキスト、アイコン）を実装 | | | | 未着手 | フロントエンドのタスク |
| 1.1.2.3 | ゲーム復帰時にバックエンドから受け取った報酬データをUIにバインドして表示する処理を実装 | | | | 未着手 | | 
| 1.1.3 | **最大オフライン時間の設定機能（初期12時間）** | | | | 未着手 | | 
| 1.1.3.1 | オフライン時間の上限を管理するグローバル設定値（例: `MAX_OFFLINE_HOURS`）を導入 | | | | 未着手 | サーバーサイド定数/コンフィグ |
| 1.1.3.2 | オフライン時間計算時に、経過時間が上限を超えていた場合は上限値で計算するロジックを追加 | | | | 未着手 | `effective_offline_seconds = min(actual_seconds, MAX_SECONDS)` |
| 1.1.4 | **オフライン効率の研究項目追加** | | | | 未着手 | | 
| 1.1.4.1 | 研究ツリーのデータ構造に「オフライン効率向上」の研究項目を追加 | | | | 未着手 | | 
| 1.1.4.2 | 研究レベルに応じてオフライン生産量にボーナスがかかるように計算ロジックを修正 | | | | 未着手 | `offline_gain *= (1 + research_bonus)` |

### 1.2 実績・マイルストーンシステム

| タスクID | タスク名 | 担当者 | 開始日 | 終了日 | 状態 | 備考 |
|---|---|---|---|---|---|---|
| 1.2.1 | **実績システムの基盤実装** | | | | 未着手 | | 
| 1.2.1.1 | 実績データを管理するためのDBテーブルまたはデータ構造を定義 (ID, 名称, 条件, 報酬, etc.) | | | | 未着手 | `achievements` テーブル |
| 1.2.1.2 | プレイヤーごとの実績達成状況を管理するテーブルを定義 | | | | 未着手 | `player_achievements` テーブル |
| 1.2.1.3 | ゲーム内イベント（資源獲得、天体作成等）発生時に実績達成条件をチェックするイベントリスナー/トリガーを実装 | | | | 未着手 | | 
| 1.2.1.4 | 達成した実績を記録し、報酬を付与するサーバーサイドロジックを実装 | | | | 未着手 | | 
| 1.2.2 | **実績定義（50個以上）** | | | | 未着手 | | 
| 1.2.2.1 | カテゴリ別（資源、天体、生命、研究等）に実績リストをスプレッドシート等で作成 | | | | 未着手 | ゲームデザイナー担当 |
| 1.2.2.2 | 各実績の具体的な達成条件と報酬内容を定義した設定ファイル（JSON/YAML等）を作成 | | | | 未着手 | | 
| 1.2.2.3 | 設定ファイルを読み込み、データベースに初期実績データを投入するスクリプトを作成 | | | | 未着手 | | 
| 1.2.3 | **実績報酬機能（資源ボーナス、乗数効果）** | | | | 未着手 | | 
| 1.2.3.1 | 報酬として指定された資源をプレイヤーインベントリに直接付与する処理を実装 | | | | 未着手 | | 
| 1.2.3.2 | 永続的な乗数効果をプレイヤーのステータスに適用するシステムを実装 | | | | 未着手 | 例: `total_production_rate *= achievement_multiplier` |
| 1.2.4 | **実績進捗の可視化UI作成** | | | | 未着手 | | 
| 1.2.4.1 | 実績一覧画面のUIデザイン（カテゴリ別、達成/未達成フィルタ） | | | | 未着手 | | 
| 1.2.4.2 | 実績の進捗度（例: 1000/10000個収集）をプログレスバー等で表示するUIコンポーネントを実装 | | | | 未着手 | | 
| 1.2.4.3 | 実績達成時に画面にポップアップ通知を表示する機能 | | | | 未着手 | | 

### 1.3 通知・フィードバックシステム

| タスクID | タスク名 | 担当者 | 開始日 | 終了日 | 状態 | 備考 |
|---|---|---|---|---|---|---|
| 1.3.1 | **数値増加のポップアップアニメーション実装** | | | | 未着手 | | 
| 1.3.1.1 | 資源が増加した際に、増加量を画面上の発生源からアニメーション表示するUIコンポーネントを作成 | | | | 未着手 | 例: 「+100 Dust」が上にスクロールして消える |
| 1.3.1.2 | アニメーションのスタイル（フォント、色、動き）をCSSで定義 | | | | 未着手 | | 
| 1.3.2 | **重要イベントの通知バナー実装** | | | | 未着手 | | 
| 1.3.2.1 | 画面上部に表示される通知バナーのUIコンポーネントを設計・実装 | | | | 未着手 | | 
| 1.3.2.2 | 実績達成や新機能アンロック時にバナーを表示するフロントエンドAPIを実装 | | | | 未着手 | | 
| 1.3.3 | **サウンドエフェクトの追加（オプション）** | | | | 未着手 | | 
| 1.3.3.1 | 主要なアクションに対応するサウンドエフェクト素材（クリック、達成、獲得音等）を選定・準備 | | | | 未着手 | | 
| 1.3.3.2 | サウンドを再生・管理するオーディオマネージャークラスを実装 | | | | 未着手 | | 
| 1.3.3.3 | ゲーム設定でサウンドのON/OFF、音量調整を切り替えられるUIを実装 | | | | 未着手 | | 
| 1.3.4 | **画面端での進行状況トースト表示機能** | | | | 未着手 | | 
| 1.3.4.1 | 画面の隅に短時間表示されるトースト通知のUIコンポーネントを実装 | | | | 未着手 | | 
| 1.3.4.2 | 研究完了や自動化タスク完了など、バックグラウンドで進行したイベントを通知する処理を実装 | | | | 未着手 | WebSocket等を利用 |
